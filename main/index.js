window.__require=function t(e,n,o){function i(r,s){if(!n[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var h="function"==typeof __require&&__require;if(!s&&h)return h(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var l=n[r]={exports:{}};e[r][0].call(l.exports,function(t){return i(e[r][1][t]||t)},l,l.exports,t,e,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({BombManager:[function(t,e,n){"use strict";cc._RF.push(e,"a3592u5udFD5btUsOQZW8b8","BombManager");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,h=t("./GameManager"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.impact=700,e.angle=-90,e}return i(e,t),e.prototype.start=function(){var t=this.node.getComponent(cc.RigidBody);t.linearVelocity=cc.Vec2.ZERO;var e=Math.PI/180*this.angle,n=Math.cos(e),o=Math.sin(e),i=new cc.Vec2(n,o).normalize();i.scaleSelf(cc.v2(this.impact,this.impact)),t.applyLinearImpulse(i,t.getWorldCenter(),!0)},e.prototype.update=function(){if(cc.find("Canvas/GameManager").getComponent(h.default)._sceneFlg!==h.SCENE_KIND.GAME){var t=this.node.getComponent(cc.RigidBody);return t.linearVelocity=cc.Vec2.ZERO,void(t.enabled=!1)}(this.node.x<-540||this.node.x>540||this.node.y<-300)&&this.suicide()},e.prototype.onBeginContact=function(t,e,n){cc.find("Canvas/GameManager").getComponent(h.default)._sceneFlg===h.SCENE_KIND.GAME&&(e.tag,5==n.tag&&n.getComponent("UserManager").dead(),this.suicide())},e.prototype.suicide=function(){this.node.getComponent(cc.RigidBody).linearVelocity=cc.Vec2.ZERO,this.node.getComponent(cc.PhysicsBoxCollider).enabled=!1,this.node.active=!1;try{this.node.parent.removeChild(this.node)}catch(t){}},a([c({type:cc.Float,tooltip:"\u885d\u6483\u529b"})],e.prototype,"impact",void 0),a([c({type:cc.Float,tooltip:"\u89d2\u5ea6"})],e.prototype,"angle",void 0),a([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./GameManager":"GameManager"}],BulletManager:[function(t,e,n){"use strict";cc._RF.push(e,"8a92ck72YpEKbf1hWz/qOPk","BulletManager");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,a){function r(t){try{c(o.next(t))}catch(e){a(e)}}function s(t){try{c(o.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,h=c.ccclass,l=c.property,u=t("./GameManager"),p=t("./Global"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.impact=700,e.angle=90,e}return i(e,t),e.prototype.start=function(){var t=this.node.getComponent(cc.RigidBody);t.linearVelocity=cc.Vec2.ZERO;var e=Math.PI/180*this.angle,n=Math.cos(e),o=Math.sin(e),i=new cc.Vec2(n,o).normalize();i.scaleSelf(cc.v2(this.impact,this.impact)),t.applyLinearImpulse(i,t.getWorldCenter(),!0)},e.prototype.update=function(){if(cc.find("Canvas/GameManager").getComponent(u.default)._sceneFlg!==u.SCENE_KIND.GAME)return this.node.getComponent(cc.RigidBody).linearVelocity=cc.Vec2.ZERO,void(this.node.active=!1);(this.node.x<-540||this.node.x>540||this.node.y>960)&&this.suicide()},e.prototype.onBeginContact=function(t,e,n){var o=cc.find("Canvas/GameManager").getComponent(u.default);if(o._sceneFlg===u.SCENE_KIND.GAME){var i=e.tag,a=n.tag;if(24===i&&a>=10&&a<=13){n.getComponent("EnemyManager").dead();var r=n.getComponent("EnemyManager").myRow,s=n.getComponent("EnemyManager").myCol,c=[];r>0&&(c.push(cc.v2(s,r+1)),s>0&&c.push(cc.v2(s-1,r+1)),s<11&&c.push(cc.v2(s+1,r+1))),s>0&&c.push(cc.v2(s-1,r)),s<11&&c.push(cc.v2(s+1,r));for(var h=0;h<o._enemys.length;h++)for(var l=0;l<o._enemys[h].length;l++){var p=o._enemys[h][l].getComponent("EnemyManager");if(p._activeFlg)for(var d=0;d<c.length;d++)if(p.myRow===c[d].y&&p.myCol===c[d].x){p.dead();break}}}else i-10==a?n.getComponent("EnemyManager").dead():i+70==a&&n.getComponent("UfoManager").dead();this.suicide()}},e.prototype.evasionBullet=function(t){return r(this,void 0,void 0,function(){var e,n;return s(this,function(o){switch(o.label){case 0:return(e=this.node.getComponent(cc.RigidBody)).linearVelocity=cc.Vec2.ZERO,this.node.getComponent(cc.PhysicsBoxCollider).enabled=!1,this.node.active=!1,n=Math.floor(2*Math.random()),t.getChildByName("DummyL").active=0==n,t.getChildByName("DummyR").active=0!=n,[4,p.default.WaitForTime(50)];case 1:return o.sent(),this.node.y=t.y+15,t.getChildByName("DummyL").active=!1,t.getChildByName("DummyR").active=!1,this.node.active=!0,this.node.getComponent(cc.PhysicsBoxCollider).enabled=!0,e.applyLinearImpulse(cc.v2(0,this.impact),e.getWorldCenter(),!0),[2]}})})},e.prototype.suicide=function(){this.node.getComponent(cc.RigidBody).linearVelocity=cc.Vec2.ZERO,this.node.active=!1,cc.find("Canvas/GameManager").getComponent("GameManager")._nowFireCount-=1,cc.find("Canvas/GameManager").getComponent("GameManager")._nowFireCount<0&&(cc.find("Canvas/GameManager").getComponent("GameManager")._nowFireCount=0);try{this.node.parent.removeChild(this.node)}catch(t){}},a([l({type:cc.Float,tooltip:"\u885d\u6483\u529b"})],e.prototype,"impact",void 0),a([l({type:cc.Float,tooltip:"\u89d2\u5ea6"})],e.prototype,"angle",void 0),a([h],e)}(cc.Component);n.default=d,cc._RF.pop()},{"./GameManager":"GameManager","./Global":"Global"}],DeadZoneManager:[function(t,e,n){"use strict";cc._RF.push(e,"d30ddSXPANFTqfRoZ0IRMli","DeadZoneManager");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,t("./GameManager")),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onCollisionEnter=function(){var t=cc.find("Canvas/GameManager").getComponent(c.default);t._sceneFlg==c.SCENE_KIND.GAME&&(this.node.getComponent(cc.BoxCollider).enabled=!1,t.gameOverFunc(2))},e.prototype.rebirth=function(){this.node.getComponent(cc.BoxCollider).enabled=!0},a([s],e)}(cc.Component);n.default=h,cc._RF.pop()},{"./GameManager":"GameManager"}],EnemyManager:[function(t,e,n){"use strict";cc._RF.push(e,"2ea3aqHEgRHgYrwNwgD8UWE","EnemyManager");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.myID=0,e.point=0,e._dead="Dead@Enemy",e._activeFlg=!0,e.myRow=0,e.myCol=0,e.nextPosX=0,e.nextPosY=0,e}return i(e,t),e.prototype.dead=function(){this._activeFlg=!1,this.node.getComponent(cc.RigidBody).linearVelocity=cc.Vec2.ZERO,this.node.getComponent(cc.PhysicsCircleCollider).enabled=!1,cc.find("Canvas/GameManager").getComponent("GameManager").playSE("enemyExp"),cc.find("Canvas/GameManager").getComponent("GameManager")._totalEnemyCount-=1,cc.find("Canvas/GameManager").getComponent("GameManager").getPoint(new cc.Vec2(this.node.x,this.node.y),this.point),cc.find("Canvas/GameManager").getComponent("GameManager").clearCheck();var t=this.node.getComponent(cc.Animation);t.on("finished",this.animeEnd,this),t.play(this._dead)},e.prototype.animeEnd=function(){this.node.getComponent(cc.Animation).off("finished",this.animeEnd,this),this.node.active=!1},a([c({type:cc.Float,tooltip:"\u81ea\u5206\u306e\u578b\u756a"})],e.prototype,"myID",void 0),a([c({type:cc.Float,tooltip:"\u5f97\u70b9"})],e.prototype,"point",void 0),a([s],e)}(cc.Component);n.default=h,cc._RF.pop()},{}],GameManager:[function(t,e,n){"use strict";cc._RF.push(e,"f10beV9hLFAXre09indcSCl","GameManager");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,a){function r(t){try{c(o.next(t))}catch(e){a(e)}}function s(t){try{c(o.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.SCENE_KIND=void 0;var c,h=cc._decorator,l=h.ccclass,u=h.property;(function(t){t[t.INIT=0]="INIT",t[t.CONFIRM=1]="CONFIRM",t[t.TITLE=2]="TITLE",t[t.MANUAL=3]="MANUAL",t[t.OPENING=4]="OPENING",t[t.GAME_INIT=5]="GAME_INIT",t[t.GAME=6]="GAME",t[t.GAME_PAUSE=7]="GAME_PAUSE",t[t.GAME_END=8]="GAME_END",t[t.CLEAR=9]="CLEAR",t[t.GAME_OVER=10]="GAME_OVER",t[t.ENDING=11]="ENDING"})(c=n.SCENE_KIND||(n.SCENE_KIND={}));var p=t("./Global"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadingObj=null,e.titleObj=null,e.manualObj=null,e.overObj=null,e.openingObj=null,e.soundBtnOff=null,e.soundBtnOn=null,e.deadZone=null,e.leftBtnObj=null,e.rightBtnObj=null,e.aBtnObj=null,e.sBtnObj=null,e.dBtnObj=null,e.fBtnObj=null,e.gameScoreTxt=null,e.gameMissionTxt=null,e.gameStageTxt=null,e.gameOverScoreTxt=null,e.zankiObj0=null,e.zankiObj1=null,e.zankiObj2=null,e.enemyContainer=null,e.bulletContainer=null,e.guardContainer=null,e.pointContainer=null,e.user=null,e.enemyPrefab10=null,e.enemyPrefab20=null,e.enemyPrefab30=null,e.enemyPrefab40=null,e.ufoPrefab=null,e.bulletPrefab0=null,e.bulletPrefab1=null,e.bulletPrefab2=null,e.bulletPrefab3=null,e.bulletPrefab4=null,e.bombPrefab=null,e.shieldPrefab=null,e.pointPrefab=null,e._sceneFlg=c.INIT,e._missionNo=0,e._stageNo=1,e._score=0,e._zanki=3,e._animeMode=0,e._spBomb=0,e._BGM_VOLUME=.2,e._VOICE_VOLUME=.8,e._SE_VOLUME=1,e._ENEMY_FIRE_INTERVAL=1,e._UFO_ANIMATION_INTERVAL=20,e._ENEMY_MOVE_Y=50,e._enemys=[[]],e._nowEnemyPos=0,e._enemyMoveX=-1,e._enemyMoveY=0,e._nowEnemyFireInterval=e._ENEMY_FIRE_INTERVAL,e._nowUfoAnimationInterval=e._UFO_ANIMATION_INTERVAL,e._nowAnimationInterval=0,e._totalEnemyCount=0,e._ufoFlg=!1,e._USER_MOVE_ADD_X=400,e._MAX_FIRE_COUNT=1,e._FIRE_INTERVAL=.5,e._leftKeyFlg=!1,e._rightKeyFlg=!1,e._aKeyFlg=!1,e._sKeyFlg=!1,e._dKeyFlg=!1,e._fKeyFlg=!1,e._nowFireCount=0,e._nowScenarioNo=0,e._scenarioSprites={},e._scenarioChara=[],e._SCENARIO={},e.endAnimeFlg=!1,e._soundState=!0,e}return i(e,t),e.prototype.onLoad=function(){cc.game.setFrameRate(59),cc.macro.ENABLE_MULTI_TOUCH=!1,cc.macro.CLEANUP_IMAGE_CACHE=!1,cc.dynamicAtlasManager.enabled=!0,cc.dynamicAtlasManager.maxFrameSize=512,cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().enabled=!0,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this),this.node.hasEventListener(cc.Node.EventType.TOUCH_START)||(this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)),"STAGE_RESTRICT"in window||(window.STAGE_RESTRICT=1),this.loadingObj.active=!0,this.openingObj.active=!1,this.titleObj.active=!1,this.manualObj.active=!1,this.overObj.active=!1,this._soundState=!0,this.soundBtnOff.active=!this._soundState,this.soundBtnOn.active=this._soundState,this.gameScoreTxt.string="Score 0",this.gameMissionTxt.string="Mission 1",this.gameStageTxt.string="Stage 1",this.deadZone.y=this.user.y},e.prototype.start=function(){this.loadAudio()},e.prototype.loadAudio=function(){return r(this,void 0,void 0,function(){var t,e,n,o,i,a,r,c,h,l,u,d,f,y;return s(this,function(s){switch(s.label){case 0:return y={},e="muon",[4,p.default.ResourcesPath("Audio/muon")];case 1:return y[e]=s.sent(),n="missionStart",[4,p.default.ResourcesPath("Audio/btn_mission")];case 2:return y[n]=s.sent(),o="btn",[4,p.default.ResourcesPath("Audio/btn_ok")];case 3:return y[o]=s.sent(),i="shot",[4,p.default.ResourcesPath("Audio/shoot")];case 4:return y[i]=s.sent(),a="userExp",[4,p.default.ResourcesPath("Audio/explode_self")];case 5:return y[a]=s.sent(),r="enemyExp",[4,p.default.ResourcesPath("Audio/explode_normal")];case 6:return y[r]=s.sent(),c="ufoExp",[4,p.default.ResourcesPath("Audio/explode_ufo")];case 7:return y[c]=s.sent(),h="ufoSE",[4,p.default.ResourcesPath("Audio/ufo_moving")];case 8:return y[h]=s.sent(),l="story1",[4,p.default.ResourcesPath("Audio/story1")];case 9:return y[l]=s.sent(),u="story2",[4,p.default.ResourcesPath("Audio/story2")];case 10:return y[u]=s.sent(),d="story3",[4,p.default.ResourcesPath("Audio/story3")];case 11:return y[d]=s.sent(),f="story4",[4,p.default.ResourcesPath("Audio/story4")];case 12:return y[f]=s.sent(),t=y,p.default.LoadSound(t,function(){p.default.WINDOW_PASS.GLOBAL_AUDIO.volume("BGM",this._BGM_VOLUME),p.default.WINDOW_PASS.GLOBAL_AUDIO.volume("SE",this._SE_VOLUME),this.titleInit()}.bind(this)),[2]}})})},e.prototype.update=function(t){var e,n;if(this._sceneFlg==c.GAME){if((this._aKeyFlg||this._sKeyFlg||this._dKeyFlg||this._fKeyFlg)&&(this._aKeyFlg?(this.shotFire(0),this._aKeyFlg=!1):this._sKeyFlg?(this.shotFire(1),this._sKeyFlg=!1):this._dKeyFlg?(this.shotFire(2),this._dKeyFlg=!1):this._fKeyFlg&&(this.shotFire(3),this._fKeyFlg=!1)),(this._leftKeyFlg||this._rightKeyFlg)&&(this._leftKeyFlg&&(this.user.x-=this._USER_MOVE_ADD_X*t,this.user.x<=-504&&(this.user.x=-504)),this._rightKeyFlg&&(this.user.x+=this._USER_MOVE_ADD_X*t,this.user.x>=504&&(this.user.x=504))),this._nowAnimationInterval-=t,this._nowAnimationInterval<=0){var o=this._ENEMY_MOVE_Y,i=0;if(0==this._enemyMoveY)for(e=0;e<this._enemys.length;e++)for(n=0;n<this._enemys[e].length;n++){var a=(u=this._enemys[e][n]).getComponent("EnemyManager");if((u.x<=-504||u.x>=504)&&a._activeFlg){this._enemyMoveY=1,e=this._enemys.length;break}}for(e=0;e<this._enemys.length;e++)for(n=0;n<this._enemys[e].length;n++)if((a=(u=this._enemys[e][n]).getComponent("EnemyManager"))._activeFlg){var r=1==this._enemyMoveY?u.x:u.x+18*this._enemyMoveX,s=1==this._enemyMoveY?u.y-o:u.y;try{cc.Tween.stopAllByTarget(u)}catch(y){}u.x=a.nextPosX,u.y=a.nextPosY,cc.tween(u).delay(i).to(.03,{x:r,y:s}).start(),a.nextPosX=r,a.nextPosY=s,i+=.03}i+=.03,1==this._enemyMoveY?(this._enemyMoveY=-1,this._enemyMoveX*=-1):this._enemyMoveY=0,this._nowAnimationInterval=i}if(this._nowEnemyFireInterval-=t,this._nowEnemyFireInterval<=0){var h=[],l=[];for(n=0;n<this._enemys[1].length;n++)l.push(0);for(e=0;e<this._enemys.length;e++)for(n=0;n<this._enemys[e].length;n++)(a=this._enemys[e][n].getComponent("EnemyManager"))._activeFlg&&0===l[n]&&(h.push(e+"_"+n),l[n]=1);var u,p=h[Math.floor(Math.random()*h.length)].split("_"),d=parseInt(p[0]),f=parseInt(p[1]);(u=cc.instantiate(this.bombPrefab)).x=this._enemys[d][f].x,u.y=this._enemys[d][f].y-30,this.bulletContainer.addChild(u),this._nowEnemyFireInterval=this._ENEMY_FIRE_INTERVAL}this._nowUfoAnimationInterval-=t,this._nowUfoAnimationInterval<=0&&this.ufoIn()}},e.prototype.ufoIn=function(){if(this._ufoFlg)this._nowUfoAnimationInterval=this._UFO_ANIMATION_INTERVAL;else{this._ufoFlg=!0;var t=cc.instantiate(this.ufoPrefab);t.x=-600,t.y=850;var e=Math.floor(2*Math.random());t.getComponent("UfoManager").mode=0==e?1:-1,this.enemyContainer.addChild(t),this._nowUfoAnimationInterval=this._UFO_ANIMATION_INTERVAL}},e.prototype.makeEnemy=function(){var t,e,n,o=this.user.y+11*this._ENEMY_MOVE_Y-(this._stageNo-1)*this._ENEMY_MOVE_Y*2;this._totalEnemyCount=0,this.enemyContainer.removeAllChildren(),this._enemys=[[]];var i=[[[0,0,0,0,10,0,10,0,0,0,0],[0,0,0,0,0,10,0,0,0,0,0],[0,0,0,0,0,10,0,0,0,0,0],[0,0,0,0,10,0,10,0,0,0,0],[0,0,0,10,0,0,0,10,0,0,0]],[[0,0,0,10,0,10,0,10,0,0,0],[0,0,10,0,0,0,0,0,10,0,0],[0,20,0,0,0,0,0,0,0,20,0],[0,0,0,20,0,10,0,20,0,0,0],[0,0,0,0,20,0,20,0,0,0,0]],[[0,0,0,0,10,0,10,0,0,0,0],[0,0,0,20,0,0,0,20,0,0,0],[10,0,0,0,0,20,0,0,0,0,10],[0,0,0,20,0,0,0,20,0,0,0],[0,30,0,0,30,0,30,0,0,30,0]],[[0,10,0,0,0,10,0,0,0,10,0],[20,0,0,0,20,0,20,0,0,0,20],[0,40,0,30,0,0,0,30,0,40,0],[0,0,0,30,0,40,0,30,0,0,0],[40,0,0,0,40,0,40,0,0,0,40]]][this._missionNo-1].concat();for(t=0;t<i.length;t++){var a=[];for(e=0;e<i[t].length;e++)0!==i[t][e]&&((c=cc.instantiate(this["enemyPrefab"+i[t][e]])).x=72*e-360,c.y=72*t+o,c.getComponent("EnemyManager").myRow=t,c.getComponent("EnemyManager").myCol=e,c.getComponent("EnemyManager").nextPosX=c.x,c.getComponent("EnemyManager").nextPosY=c.y,c.getComponent("EnemyManager").point=0==t||1==t?10:2==t||3==t?20:30,this.enemyContainer.addChild(c),a.push(c),this._totalEnemyCount+=1);this._enemys.push(a)}this._nowEnemyPos=0,this._enemyMoveX=-1,this._enemyMoveY=0,this._nowAnimationInterval=0,this._nowEnemyFireInterval=this._ENEMY_FIRE_INTERVAL,this._nowUfoAnimationInterval=this._UFO_ANIMATION_INTERVAL,this.guardContainer.removeAllChildren();var r=[-480,-200,80,360],s=this.user.x+25;for(t=0;t<r.length;t++)for(e=0;e<4;e++)for(n=0;n<12;n++){var c;(c=cc.instantiate(this.shieldPrefab)).x=10*n+r[t]-5,c.y=10*e+s,this.guardContainer.addChild(c)}},e.prototype.infoSet=function(){this.zankiObj0.active=!1,this.zankiObj1.active=!1,this.zankiObj2.active=!1;for(var t=0;t<this._zanki;t++)this["zankiObj"+t].active=!0;this.gameScoreTxt.string="Score "+this._score,this.gameMissionTxt.string="Mission "+this._missionNo,this.gameStageTxt.string="Stage "+this._stageNo},e.prototype.shotFire=function(t){if(this._sceneFlg==c.GAME&&!(this._nowFireCount>=this._MAX_FIRE_COUNT)){this.playSE("shot");var e=null;this._spBomb>0?(this._spBomb-=1,e=cc.instantiate(this.bulletPrefab4)):e=cc.instantiate(this["bulletPrefab"+t]),e.x=this.user.x,e.y=this.user.y+30,this.bulletContainer.addChild(e),this._nowFireCount+=1}},e.prototype.getPoint=function(t,e){var n=cc.instantiate(this.pointPrefab);n.setPosition(t),this.pointContainer.addChild(n),n.getComponent("PointManager").startAnimation(e),this._score+=e,this.infoSet()},e.prototype.pointInTarget=function(t,e,n,o){var i=!1;return t.x>=e.x-n&&t.x<=e.x+n&&t.y>=e.y-o&&t.y<=e.y+o&&(i=!0),i},e.prototype.clearCheck=function(){return r(this,void 0,void 0,function(){var t,e,n;return s(this,function(o){switch(o.label){case 0:for(t=0,e=0;e<this._enemys.length;e++)for(n=0;n<this._enemys[e].length;n++)this._enemys[e][n].getComponent("EnemyManager")._activeFlg&&(t+=1);return this._totalEnemyCount=t,this._totalEnemyCount<=0&&this._sceneFlg===c.GAME?(this._sceneFlg=c.GAME_END,[4,p.default.WaitForTime(800)]):[3,2];case 1:o.sent(),this.clearInit(),o.label=2;case 2:return[2]}})})},e.prototype.gameOverFunc=function(t){return r(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return this._sceneFlg=c.GAME_END,0==t?[2]:1!=t?[3,5]:this._zanki<=1?[4,p.default.WaitForTime(1e3)]:[3,2];case 1:return e.sent(),this.overInit(),[3,4];case 2:return[4,p.default.WaitForTime(500)];case 3:e.sent(),this._zanki-=1,this._leftKeyFlg=!1,this._rightKeyFlg=!1,this._aKeyFlg=!1,this._sKeyFlg=!1,this._dKeyFlg=!1,this._fKeyFlg=!1,this._nowFireCount=0,this.bulletContainer.removeAllChildren(),this.pointContainer.removeAllChildren(),this.infoSet(),this.user.active=!0,this.user.x=0,this.user.y=-60,this.user.getComponent("UserManager").rebirth(),this._sceneFlg=c.GAME,e.label=4;case 4:return[3,7];case 5:return 2!=t?[3,7]:(this._zanki=0,[4,p.default.WaitForTime(1e3)]);case 6:e.sent(),this.overInit(),e.label=7;case 7:return[2]}})})},e.prototype.playSE=function(t){this._soundState&&("bgm1"===t||"bgm2"===t||"bgm3"===t||"bgm4"===t?(p.default.WINDOW_PASS.GLOBAL_AUDIO.loop("BGM",!0),p.default.WINDOW_PASS.GLOBAL_AUDIO.play("BGM",t)):"story1"===t||"story2"===t||"story3"===t||"story4"===t?(p.default.WINDOW_PASS.GLOBAL_AUDIO.loop("BGM",!0),p.default.WINDOW_PASS.GLOBAL_AUDIO.play("BGM",t)):p.default.WINDOW_PASS.GLOBAL_AUDIO.continuousPlay("BGM",t))},e.prototype.titleInit=function(){this.titleObj.getChildByName("LoadingBg").active=!1,this.titleObj.getChildByName("LoadingStr").active=!1,this.openingObj.active=!1,this.titleObj.active=!0,this.manualObj.active=!1,this.overObj.active=!1,this.loadingObj.active=!1,this._sceneFlg=c.TITLE},e.prototype.manualInit=function(){this.openingObj.active=!1,this.titleObj.active=!1,this.manualObj.active=!0,this.overObj.active=!1,this._sceneFlg=c.MANUAL},e.prototype.scenarioPlay=function(){var t,e;this._sceneFlg=c.INIT,cc.find("Canvas/Anten").opacity=0,0===this._animeMode?this.playSE("story"+this._missionNo):this.playSE("bgm"+this._missionNo);var n=this._SCENARIO.scenario.length;if(this._nowScenarioNo>=n)cc.tween(this.openingObj.getChildByName("Anten")).to(1,{opacity:255}).call(function(){this.endAnimeFlg?this.titleInit():this.gameInit()}.bind(this)).start();else{var o=this._SCENARIO.scenario[this._nowScenarioNo];if("eraseChara"in o)for(t=0;t<o.eraseChara.length;t++){var i=o.eraseChara[t];for(e=this._scenarioChara.length-1;e>=0;e--)if(this._scenarioChara[e].name===i){this._scenarioChara[e].node.parent=null,this._scenarioChara.splice(e,1);break}}if("initChara"in o)for(t=0;t<o.initChara.length;t++){var a=o.initChara[t],r=-1;for(t=0;t<this._scenarioChara.length;t++)if(this._scenarioChara[t].name===a){r=t;break}-1===r&&((h=new cc.Node).addComponent(cc.Sprite).spriteFrame=this._scenarioSprites[a],h.anchorX=.5,h.anchorY=0,h.x=0,h.y=-960,h.parent=this.openingObj.getChildByName("CharaContainer"),this._scenarioChara.push({name:a,node:h}),r=this._scenarioChara.length-1)}for(t=0;t<this._scenarioChara.length;t++)this._scenarioChara[t].node.color=new cc.Color(125,125,125,255),this._scenarioChara[t].node.setScale(.9);if(this.openingObj.getChildByName("endBg").active=!1,"endBg"in o&&(this.openingObj.getChildByName("endBg").getComponent(cc.Sprite).spriteFrame=this._scenarioSprites[o.endBg],this.openingObj.getChildByName("endBg").active=!0),"bg"in o&&(this.openingObj.getChildByName("Bg").getComponent(cc.Sprite).spriteFrame=this._scenarioSprites[o.bg]),"chara"in o){var s=[];if(Array.isArray(o.chara))for(t=0;t<o.chara.length;t++)s.push(o.chara[t]);else s.push(o.chara);for(e=0;e<s.length;e++){var h;for(a=s[e],r=-1,t=0;t<this._scenarioChara.length;t++)if(this._scenarioChara[t].name===a){r=t;break}-1===r&&((h=new cc.Node).addComponent(cc.Sprite).spriteFrame=this._scenarioSprites[a],h.anchorX=.5,h.anchorY=0,h.x=0,h.y=-960,h.parent=this.openingObj.getChildByName("CharaContainer"),this._scenarioChara.push({name:a,node:h}),r=this._scenarioChara.length-1),this._scenarioChara[r].node.setScale(1.1),this._scenarioChara[r].node.color=new cc.Color(255,255,255,255),this._scenarioChara[r].node.setSiblingIndex(this._scenarioChara.length)}1===this._scenarioChara.length?this._scenarioChara[0].node.x=0:2===this._scenarioChara.length?(this._scenarioChara[0].node.x=-370,this._scenarioChara[1].node.x=370):3===this._scenarioChara.length?(this._scenarioChara[0].node.x=-370,this._scenarioChara[1].node.x=370,this._scenarioChara[2].node.x=0):4===this._scenarioChara.length?(this._scenarioChara[0].node.x=-370,this._scenarioChara[1].node.x=370,this._scenarioChara[2].node.x=0,this._scenarioChara[3].node.x=-185):5===this._scenarioChara.length&&(this._scenarioChara[0].node.x=-370,this._scenarioChara[1].node.x=370,this._scenarioChara[2].node.x=0,this._scenarioChara[3].node.x=-185,this._scenarioChara[4].node.x=185)}if("name"in o?(this.openingObj.getChildByName("Info").getChildByName("Name").getChildByName("Txt").getComponent(cc.Label).string=o.name,this.openingObj.getChildByName("Info").getChildByName("Name").active=!0):this.openingObj.getChildByName("Info").getChildByName("Name").active=!1,"msg"in o){var l=o.msg.join("\n");this.openingObj.getChildByName("Info").getChildByName("Msg").getChildByName("Txt").getComponent(cc.Label).string=l,this.openingObj.getChildByName("Info").getChildByName("Msg").active=!0}else this.openingObj.getChildByName("Info").getChildByName("Msg").active=!1;this._nowScenarioNo+=1,this._sceneFlg=c.OPENING}},e.prototype.loadAudio2=function(){return r(this,void 0,void 0,function(){var t,e,n,o,i;return s(this,function(a){switch(a.label){case 0:return(t="bgm"+this._missionNo)in p.default.WINDOW_PASS.GLOBAL_AUDIO.soundBuffer?(this.scenarioPlay(),this.openingObj.active=!0,this.titleObj.active=!1,this.manualObj.active=!1,this.overObj.active=!1,[3,3]):[3,1];case 1:return n=e={},o=t,[4,p.default.ResourcesPath("Audio/"+t)];case 2:n[o]=a.sent(),i=this,p.default.WINDOW_PASS.GLOBAL_AUDIO.audioSrc=e,p.default.WINDOW_PASS.GLOBAL_AUDIO.load().then(function(t){console.log(t),i.scenarioPlay(),i.openingObj.active=!0,i.titleObj.active=!1,i.manualObj.active=!1,i.overObj.active=!1}),a.label=3;case 3:return[2]}})})},e.prototype.animeInit=function(t){return r(this,void 0,void 0,function(){var e,n,o=this;return s(this,function(){return e=0,this._sceneFlg=c.INIT,this._animeMode="opening"===t?0:1,this._nowScenarioNo=0,this._scenarioChara=[],this.openingObj.getChildByName("CharaContainer").removeAllChildren(),this.openingObj.getChildByName("Anten").opacity=0,n=this,cc.resources.load(t+this._missionNo,function(t,i){return r(o,void 0,void 0,function(){var o,a;return s(this,function(r){switch(r.label){case 0:return t?(alert("\u591a\u5206\u30d5\u30a1\u30a4\u30eb\u304c\u5b58\u5728\u3057\u3066\u306a\u3044"),[3,6]):[3,1];case 1:n._SCENARIO=i.json,o=[],e=0,r.label=2;case 2:return e<n._SCENARIO.img.length?n._SCENARIO.img[e]in n._scenarioSprites?[3,4]:[4,p.default.ResourcesPath("Img/"+n._SCENARIO.img[e])]:[3,5];case 3:a=r.sent(),o.push({id:n._SCENARIO.img[e],src:a}),r.label=4;case 4:return e++,[3,2];case 5:0===o.length?n.loadAudio2():p.default.LoadImage(o,function(t){for(var e in t)n._scenarioSprites[e]=t[e];n.loadAudio2()}),r.label=6;case 6:return[2]}})})}),[2]})})},e.prototype.gameInit=function(){return r(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return this.playSE("bgm"+this._missionNo),this._sceneFlg=c.GAME_INIT,this._spBomb=0,this._leftKeyFlg=!1,this._rightKeyFlg=!1,this._aKeyFlg=!1,this._sKeyFlg=!1,this._dKeyFlg=!1,this._fKeyFlg=!1,this._nowFireCount=0,this._totalEnemyCount=0,this._ufoFlg=!1,this.user.x=0,this.user.y=-60,this.endAnimeFlg=!1,this.bulletContainer.removeAllChildren(),this.pointContainer.removeAllChildren(),this.infoSet(),this.makeEnemy(),this.user.getComponent("UserManager").rebirth(),this.deadZone.getComponent("DeadZoneManager").rebirth(),this.leftBtnObj.dispatchEvent(new cc.Event.EventCustom(cc.Node.EventType.TOUCH_END,!0)),this.rightBtnObj.dispatchEvent(new cc.Event.EventCustom(cc.Node.EventType.TOUCH_END,!0)),this.aBtnObj.dispatchEvent(new cc.Event.EventCustom(cc.Node.EventType.TOUCH_END,!0)),this.sBtnObj.dispatchEvent(new cc.Event.EventCustom(cc.Node.EventType.TOUCH_END,!0)),this.dBtnObj.dispatchEvent(new cc.Event.EventCustom(cc.Node.EventType.TOUCH_END,!0)),this.fBtnObj.dispatchEvent(new cc.Event.EventCustom(cc.Node.EventType.TOUCH_END,!0)),this.openingObj.active=!1,this.titleObj.active=!1,this.manualObj.active=!1,this.overObj.active=!1,this.aBtnObj.active=!1,this.sBtnObj.active=!1,this.dBtnObj.active=!1,this.fBtnObj.active=!1,1==this._missionNo?this.aBtnObj.active=!0:2==this._missionNo?(this.aBtnObj.active=!0,this.sBtnObj.active=!0):3==this._missionNo?(this.aBtnObj.active=!0,this.sBtnObj.active=!0,this.dBtnObj.active=!0):(this.aBtnObj.active=!0,this.sBtnObj.active=!0,this.dBtnObj.active=!0,this.fBtnObj.active=!0),"FIRE_INTERVAL"in window&&(this._ENEMY_FIRE_INTERVAL=window.FIRE_INTERVAL[this._missionNo-1][this._stageNo-1],this._nowEnemyFireInterval=this._ENEMY_FIRE_INTERVAL),(t=cc.find("Canvas/GameStart")).active=!0,[4,p.default.WaitForTime(1e3)];case 1:return e.sent(),t.active=!1,this._sceneFlg=c.GAME,[2]}})})},e.prototype.overInit=function(){this.gameOverScoreTxt.string="Score\uff1a"+this._score,this.openingObj.active=!1,this.titleObj.active=!1,this.manualObj.active=!1,this.overObj.active=!0,this._sceneFlg=c.GAME_OVER},e.prototype.clearInit=function(){this._sceneFlg=c.CLEAR;var t=cc.find("Canvas/Anten");cc.tween(t).to(1,{opacity:255}).delay(.3).call(function(){this.endAnimeFlg=!0,this.animeInit("ending")}.bind(this)).start()},e.prototype.onTouchStart=function(t){if(this._sceneFlg===c.GAME){var e=["left","right"];this._leftKeyFlg=!1,this._rightKeyFlg=!1,this.leftBtnObj.getComponent("KeyTouchManager").changeImg("NORMAL"),this.rightBtnObj.getComponent("KeyTouchManager").changeImg("NORMAL");for(var n=this.node.parent.convertToNodeSpaceAR(t.getLocation()),o=0;o<e.length;o++)if(this.pointInTarget(n,this[e[o]+"BtnObj"],100,100)){this["_"+e[o]+"KeyFlg"]=!0,this[e[o]+"BtnObj"].getComponent("KeyTouchManager").changeImg("PUSH");break}}},e.prototype.onTouchMove=function(t){this._leftKeyFlg=!1,this._rightKeyFlg=!1,this.leftBtnObj.getComponent("KeyTouchManager").changeImg("NORMAL"),this.rightBtnObj.getComponent("KeyTouchManager").changeImg("NORMAL");for(var e=["left","right"],n=this.node.parent.convertToNodeSpaceAR(t.getLocation()),o=0;o<e.length;o++)if(this.pointInTarget(n,this[e[o]+"BtnObj"],100,100)){this["_"+e[o]+"KeyFlg"]=!0,this[e[o]+"BtnObj"].getComponent("KeyTouchManager").changeImg("PUSH");break}},e.prototype.onTouchEnd=function(){this._leftKeyFlg=!1,this._rightKeyFlg=!1,this.leftBtnObj.getComponent("KeyTouchManager").changeImg("NORMAL"),this.rightBtnObj.getComponent("KeyTouchManager").changeImg("NORMAL")},e.prototype.onKeyDown=function(t){if(this._sceneFlg===c.GAME)switch(t.keyCode){case cc.macro.KEY.left:this._leftKeyFlg=!0;break;case cc.macro.KEY.right:this._rightKeyFlg=!0;break;case cc.macro.KEY.a:this._aKeyFlg=!0;break;case cc.macro.KEY.s:this._sKeyFlg=!0;break;case cc.macro.KEY.d:this._dKeyFlg=!0;break;case cc.macro.KEY.f:this._fKeyFlg=!0}},e.prototype.onKeyUp=function(t){if(this._sceneFlg===c.GAME)switch(t.keyCode){case cc.macro.KEY.left:this._leftKeyFlg=!1;break;case cc.macro.KEY.right:this._rightKeyFlg=!1}},e.prototype.soundBtnClick=function(){this.playSE("muon"),1==this._soundState?(this.soundBtnOff.active=!0,this.soundBtnOn.active=!1,this._soundState=!1,p.default.WINDOW_PASS.GLOBAL_AUDIO&&(p.default.WINDOW_PASS.GLOBAL_AUDIO.volume("BGM",0),p.default.WINDOW_PASS.GLOBAL_AUDIO.volume("SE",0))):(this.soundBtnOff.active=!1,this.soundBtnOn.active=!0,this._soundState=!0,p.default.WINDOW_PASS.GLOBAL_AUDIO&&(p.default.WINDOW_PASS.GLOBAL_AUDIO.volume("BGM",this._BGM_VOLUME),p.default.WINDOW_PASS.GLOBAL_AUDIO.volume("SE",this._SE_VOLUME)))},e.prototype.missionBtnClick=function(t,e){this._sceneFlg===c.TITLE&&(parseInt(e)>window.STAGE_RESTRICT?alert("\u3053\u306e\u30b9\u30c6\u30fc\u30b8\u306f\u307e\u3060\u89e3\u653e\u3055\u308c\u3066\u304a\u308a\u307e\u305b\u3093\u3002"):(this.playSE("missionStart"),this.titleObj.getChildByName("LoadingBg").active=!0,this.titleObj.getChildByName("LoadingStr").active=!0,this._missionNo=parseInt(e),this._stageNo=1,this._score=0,this._zanki=3,this.animeInit("opening")))},e.prototype.manualBtnClick=function(){this._sceneFlg===c.TITLE&&(this.playSE("btn"),this.manualInit())},e.prototype.openingNextBtnClick=function(){this._sceneFlg===c.OPENING&&this.scenarioPlay()},e.prototype.nextBtnClick=function(){this._sceneFlg===c.CLEAR&&(this.playSE("btn"),this._stageNo+=1,this._stageNo>=5?this.titleInit():this.gameInit())},e.prototype.ContinueBtnClick=function(){this._sceneFlg===c.GAME_OVER&&(this.playSE("btn"),this._stageNo=1,this._score=0,this._zanki=3,this.gameInit())},e.prototype.backBtnClick=function(){this._sceneFlg!==c.MANUAL&&this._sceneFlg!==c.GAME_OVER||(this.playSE("btn"),this.titleInit())},a([u({type:cc.Node,tooltip:"\u30bf\u30a4\u30c8\u30eb\u753b\u9762"})],e.prototype,"loadingObj",void 0),a([u({type:cc.Node,tooltip:"\u30bf\u30a4\u30c8\u30eb\u753b\u9762"})],e.prototype,"titleObj",void 0),a([u({type:cc.Node,tooltip:"\u89e3\u8aac\u753b\u9762"})],e.prototype,"manualObj",void 0),a([u({type:cc.Node,tooltip:"\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u753b\u9762"})],e.prototype,"overObj",void 0),a([u({type:cc.Node,tooltip:"\u30aa\u30fc\u30d7\u30cb\u30f3\u30b0\u753b\u9762"})],e.prototype,"openingObj",void 0),a([u({type:cc.Node,tooltip:"\u30b5\u30a6\u30f3\u30c9OFF\u30dc\u30bf\u30f3"})],e.prototype,"soundBtnOff",void 0),a([u({type:cc.Node,tooltip:"\u30b5\u30a6\u30f3\u30c9ON\u30dc\u30bf\u30f3"})],e.prototype,"soundBtnOn",void 0),a([u({type:cc.Node,tooltip:"\u30c7\u30c3\u30c9\u30be\u30fc\u30f3(\u30bf\u30b050)"})],e.prototype,"deadZone",void 0),a([u({type:cc.Node,tooltip:"\u5de6\u30ad\u30fc"})],e.prototype,"leftBtnObj",void 0),a([u({type:cc.Node,tooltip:"\u53f3\u30ad\u30fc"})],e.prototype,"rightBtnObj",void 0),a([u({type:cc.Node,tooltip:"A\u30ad\u30fc"})],e.prototype,"aBtnObj",void 0),a([u({type:cc.Node,tooltip:"S\u30ad\u30fc"})],e.prototype,"sBtnObj",void 0),a([u({type:cc.Node,tooltip:"D\u30ad\u30fc"})],e.prototype,"dBtnObj",void 0),a([u({type:cc.Node,tooltip:"F\u30ad\u30fc"})],e.prototype,"fBtnObj",void 0),a([u({type:cc.Label,tooltip:"\u30b2\u30fc\u30e0\u4e2d\u306e\u30b9\u30b3\u30a2"})],e.prototype,"gameScoreTxt",void 0),a([u({type:cc.Label,tooltip:"\u30b2\u30fc\u30e0\u4e2d\u306e\u30df\u30c3\u30b7\u30e7\u30f3No"})],e.prototype,"gameMissionTxt",void 0),a([u({type:cc.Label,tooltip:"\u30b2\u30fc\u30e0\u4e2d\u306e\u30b9\u30c6\u30fc\u30b8No"})],e.prototype,"gameStageTxt",void 0),a([u({type:cc.Label,tooltip:"\u30b2\u30fc\u30e0\u30aa\u30fc\u30d0\u30fc\u6642\u306e\u30b9\u30b3\u30a2"})],e.prototype,"gameOverScoreTxt",void 0),a([u({type:cc.Node,tooltip:"\u6b8b\u6a5f0"})],e.prototype,"zankiObj0",void 0),a([u({type:cc.Node,tooltip:"\u6b8b\u6a5f1"})],e.prototype,"zankiObj1",void 0),a([u({type:cc.Node,tooltip:"\u6b8b\u6a5f2"})],e.prototype,"zankiObj2",void 0),a([u({type:cc.Node,tooltip:"\u6575\u683c\u7d0d\u30b3\u30f3\u30c6\u30ca"})],e.prototype,"enemyContainer",void 0),a([u({type:cc.Node,tooltip:"\u5f3e\u683c\u7d0d\u30b3\u30f3\u30c6\u30ca"})],e.prototype,"bulletContainer",void 0),a([u({type:cc.Node,tooltip:"\u76fe\u683c\u7d0d\u30b3\u30f3\u30c6\u30ca"})],e.prototype,"guardContainer",void 0),a([u({type:cc.Node,tooltip:"\u30dd\u30a4\u30f3\u30c8\u683c\u7d0d\u30b3\u30f3\u30c6\u30ca"})],e.prototype,"pointContainer",void 0),a([u({type:cc.Node,tooltip:"\u81ea\u6a5f(\u30bf\u30b05)"})],e.prototype,"user",void 0),a([u({type:cc.Prefab,tooltip:"\u8d64\u5916\u7dda\u65750\u30d7\u30ec\u30d5\u30a1\u30d6(\u30bf\u30b010)"})],e.prototype,"enemyPrefab10",void 0),a([u({type:cc.Prefab,tooltip:"\u53ef\u8996\u5149\u7dda\u65750\u30d7\u30ec\u30d5\u30a1\u30d6(\u30bf\u30b011)"})],e.prototype,"enemyPrefab20",void 0),a([u({type:cc.Prefab,tooltip:"\u7d2b\u5916\u7dda\u65750\u30d7\u30ec\u30d5\u30a1\u30d6(\u30bf\u30b012)"})],e.prototype,"enemyPrefab30",void 0),a([u({type:cc.Prefab,tooltip:"\u30ac\u30f3\u30de\u7dda\u65750\u30d7\u30ec\u30d5\u30a1\u30d6(\u30bf\u30b013)"})],e.prototype,"enemyPrefab40",void 0),a([u({type:cc.Prefab,tooltip:"UFO\u30d7\u30ec\u30d5\u30a1\u30d6(\u30bf\u30b090)"})],e.prototype,"ufoPrefab",void 0),a([u({type:cc.Prefab,tooltip:"\u5f3e0\u30d7\u30ec\u30d5\u30a1\u30d6(\u8d64\u5916\u7dda\u3000\u30bf\u30b020)"})],e.prototype,"bulletPrefab0",void 0),a([u({type:cc.Prefab,tooltip:"\u5f3e1\u30d7\u30ec\u30d5\u30a1\u30d6(\u53ef\u8996\u5149\u7dda\u3000\u30bf\u30b021)"})],e.prototype,"bulletPrefab1",void 0),a([u({type:cc.Prefab,tooltip:"\u5f3e2\u30d7\u30ec\u30d5\u30a1\u30d6(\u7d2b\u5916\u7dda\u3000\u30bf\u30b022)"})],e.prototype,"bulletPrefab2",void 0),a([u({type:cc.Prefab,tooltip:"\u5f3e3\u30d7\u30ec\u30d5\u30a1\u30d6(\u30ac\u30f3\u30de\u7dda\u3000\u30bf\u30b023)"})],e.prototype,"bulletPrefab3",void 0),a([u({type:cc.Prefab,tooltip:"\u5f3e3\u30d7\u30ec\u30d5\u30a1\u30d6(\u30ac\u30f3\u30de\u7dda\u3000\u30bf\u30b023)"})],e.prototype,"bulletPrefab4",void 0),a([u({type:cc.Prefab,tooltip:"\u6575\u5f3e\u30d7\u30ec\u30d5\u30a1\u30d6(\u30bf\u30b030)"})],e.prototype,"bombPrefab",void 0),a([u({type:cc.Prefab,tooltip:"\u76fe\u30d7\u30ec\u30d5\u30a1\u30d6(\u30bf\u30b040)"})],e.prototype,"shieldPrefab",void 0),a([u({type:cc.Prefab,tooltip:"\u30dd\u30a4\u30f3\u30c8\u30d7\u30ec\u30d5\u30a1\u30d6"})],e.prototype,"pointPrefab",void 0),a([l],e)}(cc.Component);n.default=d,cc._RF.pop()},{"./Global":"Global"}],Global:[function(t,e,n){"use strict";cc._RF.push(e,"e31baViCzxPlateBqUEoR67","Global");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,a){function r(t){try{c(o.next(t))}catch(e){a(e)}}function s(t){try{c(o.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(r,s)}c((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,h=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return i(e,t),n=e,e.WaitForTime=function(t){return r(this,void 0,Promise,function(){return s(this,function(){return[2,new Promise(function(e){setTimeout(function(){e("")},t)})]})})},e.ResourcesPath=function(t){return r(this,void 0,Promise,function(){return s(this,function(){return[2,new Promise(function(e){cc.resources.load(t,function(n,o){n?(console.log("\u591a\u5206\u30d5\u30a1\u30a4\u30eb\u304c\u5b58\u5728\u3057\u3066\u306a\u3044\uff1a"+t),e(null)):e(o.nativeUrl)})})]})})},e.LoadImage=function(t,e){var n=this;this.IMG_LOAD_CNT=0;for(var o={},i=0;i<t.length;i++)this.IMG_LOAD_CNT++,o[t[i].id]=null,this.loadImage(t[i]).then(function(t){var i=new cc.Texture2D;i.initWithElement(t),i.handleLoadedTexture(),o[t.id]=new cc.SpriteFrame(i),n.IMG_LOAD_CNT--,n.IMG_LOAD_CNT<=0&&e(o)}).catch(function(t){console.log("onload error",t),n.IMG_LOAD_CNT--,n.IMG_LOAD_CNT<=0&&e(o)})},e.loadImage=function(t){return new Promise(function(e,n){var o=new Image;o.crossOrigin="Anonymous",o.onload=function(){return e(o)},o.onerror=function(t){return n(t)},o.id=t.id,o.src=t.src})},e.InitDB=function(t){var e=cc.sys.localStorage.getItem(t);if(null===e||""===e){var n=JSON.stringify({});cc.sys.localStorage.setItem(t,n)}},e.LoadDB=function(t){var e=null,n=cc.sys.localStorage.getItem(t);return null!==n&&""!==n&&(e=JSON.parse(n)),e},e.SaveDB=function(t,e){var n=!0;try{JSON.stringify(e),cc.sys.localStorage.setItem(t,e)}catch(o){n=!1}return n},e.DeleteDB=function(t){var e=!0;try{cc.sys.localStorage.removeItem(t)}catch(n){e=!1}return e},e.ClearDB=function(){var t=!0;try{cc.sys.localStorage.clear()}catch(e){t=!1}return t},e.LoadSound=function(t,e){void 0===n.WINDOW_PASS.GLOBAL_AUDIO&&(n.WINDOW_PASS.GLOBAL_AUDIO=new n.WINDOW_PASS.WebAudio),n.WINDOW_PASS.GLOBAL_AUDIO.init(),n.WINDOW_PASS.GLOBAL_AUDIO.audioSrc=t,n.WINDOW_PASS.GLOBAL_AUDIO.nowVolumeBGM=1,n.WINDOW_PASS.GLOBAL_AUDIO.maxVolumeBGM=1,n.WINDOW_PASS.GLOBAL_AUDIO.nowVolumeVOICE=1,n.WINDOW_PASS.GLOBAL_AUDIO.maxVolumeVOICE=1,n.WINDOW_PASS.GLOBAL_AUDIO.nowVolumeSE=1,n.WINDOW_PASS.GLOBAL_AUDIO.maxVolumeSE=1,n.WINDOW_PASS.GLOBAL_AUDIO.load().then(function(t){e(t)}).catch(function(t){e("onload error : "+t)})},e.audioPlayCompletedFunc=function(t){return r(this,void 0,Promise,function(){var e=this;return s(this,function(){return[2,new Promise(function(n){var o=setInterval(function(){e.PROCESS_STOP||e.WINDOW_PASS.GLOBAL_AUDIO.endCheck(t)&&(clearInterval(o),n(""))},100)})]})})},e.audioPlayCompletedFunc2=function(t){return r(this,void 0,Promise,function(){var e=this;return s(this,function(){return[2,new Promise(function(n){var o=setInterval(function(){if(!e.PROCESS_STOP)return e.AUDIO_PLAY_COMPLETE_CHECKED?void(e.WINDOW_PASS.GLOBAL_AUDIO.endCheck(t)&&(clearInterval(o),n(""))):(clearInterval(o),void n(""))},100)})]})})},e.WINDOW_PASS=window,e.IMG_LOAD_CNT=0,e.PROCESS_STOP=!1,e.shuffle=function(t){for(var e,n=t.slice(0),o=n.length-1;o>=0;o--){var i=Math.floor(Math.random()*(o+1));e=[n[i],n[o]],n[o]=e[0],n[i]=e[1]}return n},e.AUDIO_PLAY_COMPLETE_CHECKED=!1,n=a([h],e)}(cc.Component));n.default=l,l.WINDOW_PASS.WebAudio=function(){if(this.audioSupport=1,this.audioSrc="",this.soundBuffer={},this.soundLoadComp=!1,this.refBGM=null,this.nowBGM=null,this.playingBGMKey="",this.nowVolumeBGM=1,this.maxVolumeBGM=1,this.loopBGMFlg=!1,this.endBGM=!1,this.startTimeBGM=0,this.refVOICE=null,this.nowVOICE=null,this.playingVOICEKey="",this.nowVolumeVOICE=1,this.maxVolumeVOICE=1,this.loopVOICEFlg=!1,this.endVOICE=!1,this.startTimeVOICE=0,this.refSE=null,this.nowSE=null,this.playingSEKey="",this.nowVolumeSE=1,this.maxVolumeSE=1,this.loopSEFlg=!1,this.endSE=!1,this.startTimeSE=0,this.recProcessor=null,this.num=0,this.floatData=null,this.sampleRate=0,this.lengths=0,this.recWap=null,1==this.audioSupport)try{l.WINDOW_PASS.AudioContext=l.WINDOW_PASS.AudioContext||l.WINDOW_PASS.webkitAudioContext;var t=new AudioContext;if(/(iPhone|iPad)/i.test(navigator.userAgent)&&44100!==t.sampleRate){var e=t.createBufferSource();e.buffer=t.createBuffer(1,1,44100),e.connect(t.destination),e.start=e.start||e.noteOn,e.start(0),e.disconnect()}t.close(),this.wapBGM=new AudioContext,this.wapBGM.exGain=this.wapBGM.createGain||this.wapBGM.createGainNode,this.wapBGM_gainNode=this.wapBGM.exGain(),this.wapBGM_gainNode.gain.value=this.maxVolumeBGM,this.wapVOICE=new AudioContext,this.wapVOICE.exGain=this.wapVOICE.createGain||this.wapVOICE.createGainNode,this.wapVOICE_gainNode=this.wapVOICE.exGain(),this.wapVOICE_gainNode.gain.value=this.maxVolumeVOICE,this.wapSE=new AudioContext,this.wapSE.exGain=this.wapSE.createGain||this.wapSE.createGainNode,this.wapSE_gainNode=this.wapSE.exGain(),this.wapSE_gainNode.gain.value=this.maxVolumeSE;var n=new AudioContext;n.exGain=n.createGain||n.createGainNode,n.exGain().gain.value=this.maxVolumeBGM}catch(i){this.audioSupport=0}if(0==this.audioSupport){this.wapBGM=new Audio,this.wapVOICE=new Audio,this.wapSE=new Audio;var o=this;this.wapBGM.addEventListener("ended",function(){o.loopBGMFlg?(o.wapBGM.currentTime=0,o.wapBGM.play()):(o.endBGM=!0,o.wapBGM.pause())}),this.wapVOICE.addEventListener("ended",function(){o.loopVOICEFlg?(o.wapVOICE.currentTime=0,o.wapVOICE.play()):(o.endVOICE=!0,o.wapVOICE.pause())}),this.wapSE.addEventListener("ended",function(){o.loopSEFlg?(o.wapSE.currentTime=0,o.wapSE.play()):(o.endSE=!0,o.wapSE.pause())})}this.init=function(){this.stop("BGM",0),this.stop("VOICE",0),this.stop("SE",0),this.soundBuffer={},this.audioSrc="",this.soundLoadComp=!1,this.refBGM=null,this.nowBGM=null,this.playingBGMKey="",this.nowVolumeBGM=1,this.maxVolumeBGM=1,this.loopBGMFlg=!1,this.endBGM=!1,this.startTimeBGM=0,this.refVOICE=null,this.nowVOICE=null,this.playingVOICEKey="",this.nowVolumeVOICE=1,this.maxVolumeVOICE=1,this.loopVOICEFlg=!1,this.endVOICE=!1,this.startTimeVOICE=0,this.refSE=null,this.nowSE=null,this.playingSEKey="",this.nowVolumeSE=1,this.maxVolumeSE=1,this.loopSEFlg=!1,this.endSE=!1,this.startTimeSE=0},this.load=function(){var t=this;return new Promise(function(e){t.soundLoadComp=!1;var n="OK",o="";if(1==t.audioSupport){var i=t;new u(t.wapBGM,t.audioSrc,function(t){for(var a in t)null==t[a]&&(n="NG\uff1a",o+=a+", "),i.soundBuffer[a]=t[a];i.soundLoadComp=!0,i=null,e(n+o)}).load()}else if(0==t.audioSupport){for(var a in t.audioSrc)t.soundBuffer[a]=t.audioSrc[a];t.soundLoadComp=!0,e(n)}})},this.prePlay=function(t,e){if(1==this.audioSupport){var n=this["nowVolume"+t];this.volume(t,0),this["ses"+t]=this["wap"+t].createBufferSource(),this["ses"+t].buffer=this.soundBuffer[e],this["ses"+t].connect(this["wap"+t+"_gainNode"]),this["wap"+t+"_gainNode"].connect(this["wap"+t].destination),this["wap"+t+"_gainNode"].gain.value=this["nowVolume"+t],this["ses"+t].start=this["ses"+t].start||this["ses"+t].noteOn,this["ses"+t].start(0),this["ref"+t]=this["ses"+t],this.stop(t,e),this.volume(t,n)}},this.continuousPlay=function(t,e){if(this["end"+t]=!0,1==this.audioSupport){if(null==this.soundBuffer[e])return;var n=this["wap"+t].createBufferSource();n.buffer=this.soundBuffer[e],n.connect(this["wap"+t+"_gainNode"]),this["wap"+t+"_gainNode"].connect(this["wap"+t].destination),this["wap"+t+"_gainNode"].gain.value=this["nowVolume"+t],n.start=n.start||n.noteOn,n.start(0),n.onended=function(){this.disconnect(),this.buffer=null,n=null}}else this["wap"+t].src=this.soundBuffer[e],this["wap"+t].volume=this["nowVolume"+t],this["wap"+t].loop=this["loop"+t+"Flg"],this["wap"+t].play()},this.play=function(t,e,n){if(null!=this["ref"+t]){if(this["playing"+t+"Key"]==e)return;this.stop(t,e)}if(this["playing"+t+"Key"]=e,this["end"+t]=!1,1==this.audioSupport)if(null==this.soundBuffer[e])this["end"+t]=!0;else{this["ses"+t]=this["wap"+t].createBufferSource(),this["ses"+t].buffer=this.soundBuffer[e],this["ses"+t].playbackRate.value=1,this["ses"+t].connect(this["wap"+t+"_gainNode"]),this["wap"+t+"_gainNode"].connect(this["wap"+t].destination),this["wap"+t+"_gainNode"].gain.value=this["nowVolume"+t],this["ses"+t].start=this["ses"+t].start||this["ses"+t].noteOn;var o=new Date;null!=n?(this["startTime"+t]=o.getTime()-1e3*n,this["ses"+t].start(0,n)):(this["startTime"+t]=o.getTime(),this["ses"+t].start(0,0));var a=this,r=e,s=t;this["ses"+t].onended=function(){try{a["loop"+s+"Flg"]?(a["playing"+s+"Key"]=r+"aa",a.play(s,r)):(a["end"+s]=!0,a.stop(s,r))}catch(i){}},this["ref"+t]=this["ses"+t]}else this["wap"+t].src=this.soundBuffer[e],this["wap"+t].volume=this["nowVolume"+t],this["wap"+t].loop=this["loop"+t+"Flg"],this["wap"+t].play(),this["ref"+t]=this["wap"+t]},this.pause=function(t){1==this.audioSupport?this["wap"+t].suspend():null!=this["ref"+t]&&this["ref"+t].pause()},this.resume=function(t){1==this.audioSupport?this["wap"+t].resume():null!=this["ref"+t]&&this["ref"+t].play()},this.stop=function(t){null!=this["ref"+t]&&(1==this.audioSupport?(this["ref"+t].stop=this["ref"+t].stop||this["ref"+t].noteOff,this["ref"+t].stop(0),this["ref"+t].disconnect(),this["ref"+t].buffer=null,this["ses"+t].onended=null,this["ses"+t]=null):this["ref"+t].pause(),this["ref"+t]=null,this["now"+t]=null,this["playing"+t+"Key"]="")},this.volume=function(t,e){if(void 0===e)return this["nowVolume"+t];this["nowVolume"+t]=e,1==this.audioSupport?this["wap"+t+"_gainNode"].gain.value=this["nowVolume"+t]:null!=this["ref"+t]&&(this["ref"+t].volume=this["nowVolume"+t])},this.fade=function(t,e,n){if(1==this.audioSupport){var o=this.volume(t),i=this.currentTime(t),a=i+n;this["wap"+t+"_gainNode"].gain.setValueAtTime(o,i),this["wap"+t+"_gainNode"].gain.linearRampToValueAtTime(e,a)}},this.currentTime=function(t,e){if(void 0===e){var n=0;if(1==this.audioSupport){if(0==this["startTime"+t])return 0;var o=new Date;n=Math.floor((o.getTime()-this["startTime"+t])/10),n/=100}else null!=this["ref"+t]&&(n=this["ref"+t].currentTime);return n}1==this.audioSupport?""!=this["playing"+t+"Key"]&&(this.stop(t,this["playing"+t+"Key"]),this.play(t,this["playing"+t+"Key"],e)):null!=this["ref"+t]&&(this["ref"+t].currentTime=e)},this.loop=function(t,e){if(void 0===e)return this["loop"+t+"Flg"];this["loop"+t+"Flg"]=e,null!=this["now"+t]&&(this["now"+t].loop=e),1!=this.audioSupport&&null!=this["ref"+t]&&(this["ref"+t].loop=this["loop"+t+"Flg"])},this.endCheck=function(t){return this["end"+t]},this.allStop=function(){this.endBGM||this.stop("BGM"),this.endVOICE||this.stop("VOICE"),this.endSE||this.stop("SE")},this.allPause=function(){this.endBGM||this.pause("BGM"),this.endVOICE||this.pause("VOICE"),this.endSE||this.pause("SE")},this.allResume=function(){this.endBGM||this.resume("BGM"),this.endVOICE||this.resume("VOICE"),this.endSE||this.resume("SE")}};var u=function(){function t(t,e,n){this.context=null,this.urlList=null,this.onload=null,this.bufferList={},this.loadCount=0,this.maxCount=0,this.nowLoadCnt={},this.maxLoadCnt=3,this.context=t,this.urlList=e,this.onload=n,this.bufferList={},this.loadCount=0,this.maxCount=0,this.nowLoadCnt={},this.maxLoadCnt=3}return t.prototype.loadBuffer=function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer";var o=this;n.onload=function(){o.context.decodeAudioData(n.response,function(t){o.bufferList[e]=t||null,o.loadCount++,o.loadCount==o.maxCount&&o.onload(o.bufferList)})},n.onerror=function(){o.nowLoadCnt[e]++,o.nowLoadCnt[e]>=o.maxLoadCnt?(o.bufferList[e]=null,o.loadCount++,o.loadCount==o.maxCount&&o.onload(o.bufferList)):o.loadBuffer(o.urlList[e],e)},n.send()},t.prototype.load=function(){for(var t in this.urlList)this.nowLoadCnt[t]=0,this.maxCount+=1;for(var t in this.urlList)this.loadBuffer(this.urlList[t],t)},t}();cc._RF.pop()},{}],KeyTouchManager:[function(t,e,n){"use strict";cc._RF.push(e,"ec4a73AEhBFT6g+VvlOWjve","KeyTouchManager");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./GameManager"),s=cc._decorator,c=s.ccclass,h=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameManager=null,e.normalImg=null,e.pushImg=null,e.myName="",e.againstNames=[""],e}return i(e,t),e.prototype.onLoad=function(){this.changeImg("NORMAL")},e.prototype.start=function(){"left"!==this.myName&&"right"!==this.myName&&(this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this))},e.prototype.changeImg=function(t){this.node.getComponent(cc.Sprite).spriteFrame="PUSH"==t?this.pushImg:this.normalImg},e.prototype.onTouchStart=function(){if(this.gameManager._sceneFlg==r.SCENE_KIND.GAME){this.changeImg("PUSH"),this.gameManager["_"+this.myName+"KeyFlg"]=!0;for(var t=0;t<this.againstNames.length;t++)this.gameManager["_"+this.againstNames[t]+"KeyFlg"]=!1}},e.prototype.onTouchEnd=function(){this.changeImg("NORMAL"),this.gameManager["_"+this.myName+"KeyFlg"]=!1},a([h({type:r.default,tooltip:"GameManager\u30af\u30e9\u30b9"})],e.prototype,"gameManager",void 0),a([h({type:cc.SpriteFrame,tooltip:"\u521d\u671f\u8868\u793a\u753b\u50cf"})],e.prototype,"normalImg",void 0),a([h({type:cc.SpriteFrame,tooltip:"\u62bc\u4e0b\u6642\u306e\u8868\u793a\u753b\u50cf"})],e.prototype,"pushImg",void 0),a([h({tooltip:"\u81ea\u8eab\u306eID"})],e.prototype,"myName",void 0),a([h({type:[cc.String],tooltip:"\u76f8\u5bfe\u3059\u308bID\u9054"})],e.prototype,"againstNames",void 0),a([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./GameManager":"GameManager"}],PointManager:[function(t,e,n){"use strict";cc._RF.push(e,"9b0d5/MPu5FuaXSN1oUyWdc","PointManager");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.score=null,e}return i(e,t),e.prototype.startAnimation=function(t){this.score.string=String(t);var e=this.node.getComponent(cc.Animation);e.on("finished",this.animeEnd,this),e.play("Get@Point")},e.prototype.animeEnd=function(){this.node.active=!1,this.node.getComponent(cc.Animation).off("finished",this.animeEnd,this);try{this.node.parent.removeChild(this.node)}catch(t){}},a([c(cc.Label)],e.prototype,"score",void 0),a([s],e)}(cc.Component);n.default=h,cc._RF.pop()},{}],ShieldManager:[function(t,e,n){"use strict";cc._RF.push(e,"53de8WATkxKKZPYXh407Qve","ShieldManager");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,t("./GameManager")),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onBeginContact=function(t,e,n){if(cc.find("Canvas/GameManager").getComponent(c.default)._sceneFlg===c.SCENE_KIND.GAME){e.tag;var o=n.tag;20==o||21==o||22==o||23==o?(n.node.active=!1,this.suicide()):30==o&&(n.node.active=!1,this.suicide())}},e.prototype.onCollisionEnter=function(t){if(cc.find("Canvas/GameManager").getComponent(c.default)._sceneFlg==c.SCENE_KIND.GAME){var e=t.tag;10!=e&&11!=e&&12!=e&&13!=e||this.suicide()}},e.prototype.suicide=function(){this.node.getComponent(cc.PhysicsBoxCollider).enabled=!1,this.node.getComponent(cc.BoxCollider).enabled=!1,this.node.active=!1;try{this.node.parent.removeChild(this.node)}catch(t){}},a([s],e)}(cc.Component);n.default=h,cc._RF.pop()},{"./GameManager":"GameManager"}],UfoManager:[function(t,e,n){"use strict";cc._RF.push(e,"066dbwou4NL5KenGBdKlQWr","UfoManager");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,h=t("./GameManager"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.myID=0,e.point=0,e.moveX=200,e._dead="Dead@Enemy",e.mode=1,e._activeFlg=!0,e}return i(e,t),e.prototype.onload=function(){this.node.y=850},e.prototype.start=function(){1==this.mode?(this.moveX*=1,this.node.x=600):-1==this.mode&&(this.moveX*=-1,this.node.x=-600),cc.find("Canvas/GameManager").getComponent("GameManager").playSE("ufoSE")},e.prototype.update=function(t){cc.find("Canvas/GameManager").getComponent(h.default)._sceneFlg===h.SCENE_KIND.GAME&&this._activeFlg&&(this.node.x-=this.moveX*t,1==this.mode?this.node.x<-600&&this.suicide():-1==this.mode&&this.node.x>600&&this.suicide())},e.prototype.dead=function(){this._activeFlg=!1,this.node.getComponent(cc.RigidBody).linearVelocity=cc.Vec2.ZERO,this.node.getComponent(cc.PhysicsCircleCollider).enabled=!1,cc.find("Canvas/GameManager").getComponent("GameManager").playSE("ufoExp"),cc.find("Canvas/GameManager").getComponent("GameManager")._ufoFlg=!1;try{var t=cc.find("Canvas/GameManager").getComponent("GameManager")._ufoSnd;cc.audioEngine.stop(t),cc.find("Canvas/GameManager").getComponent("GameManager")._ufoSnd=null}catch(n){}cc.find("Canvas/GameManager").getComponent("GameManager").getPoint(new cc.Vec2(this.node.x,this.node.y),this.point),cc.find("Canvas/GameManager").getComponent("GameManager")._spBomb=3;var e=this.node.getComponent(cc.Animation);e.on("finished",this.animeEnd,this),e.play(this._dead)},e.prototype.animeEnd=function(){this.node.getComponent(cc.Animation).off("finished",this.animeEnd,this);try{this.node.parent.removeChild(this.node)}catch(t){}},e.prototype.suicide=function(){this._activeFlg=!1,this.node.getComponent(cc.RigidBody).linearVelocity=cc.Vec2.ZERO,this.node.getComponent(cc.PhysicsCircleCollider).enabled=!1,cc.find("Canvas/GameManager").getComponent("GameManager")._ufoFlg=!1;try{var t=cc.find("Canvas/GameManager").getComponent("GameManager")._ufoSnd;cc.audioEngine.stop(t),cc.find("Canvas/GameManager").getComponent("GameManager")._ufoSnd=null}catch(e){}try{this.node.parent.removeChild(this.node)}catch(e){}},a([c({type:cc.Float,tooltip:"\u81ea\u5206\u306e\u578b\u756a"})],e.prototype,"myID",void 0),a([c({type:cc.Float,tooltip:"\u5f97\u70b9"})],e.prototype,"point",void 0),a([c({type:cc.Float,tooltip:"\u6a2a\u79fb\u52d5\u901f\u5ea6"})],e.prototype,"moveX",void 0),a([s],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./GameManager":"GameManager"}],UserManager:[function(t,e,n){"use strict";cc._RF.push(e,"8b4a8xs66JKwop8J26YosIY","UserManager");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._alive="Alive@User",e._dead="Dead@User",e._activeFlg=!0,e}return i(e,t),e.prototype.rebirth=function(){this._activeFlg=!0,this.node.getComponent(cc.RigidBody).linearVelocity=cc.Vec2.ZERO,this.node.getComponent(cc.PhysicsCircleCollider).enabled=!0,this.node.active=!0,this.node.x=0,this.node.opacity=255,this.node.getComponent(cc.Animation).play(this._alive)},e.prototype.dead=function(){cc.find("Canvas/GameManager").getComponent("GameManager").gameOverFunc(0),this._activeFlg=!1,this.node.getComponent(cc.RigidBody).linearVelocity=cc.Vec2.ZERO,this.node.getComponent(cc.PhysicsCircleCollider).enabled=!1,cc.find("Canvas/GameManager").getComponent("GameManager").playSE("userExp");var t=this.node.getComponent(cc.Animation);t.on("finished",this.animeEnd,this),t.play(this._dead)},e.prototype.animeEnd=function(){this.node.active=!1,this.node.getComponent(cc.Animation).off("finished",this.animeEnd,this),cc.find("Canvas/GameManager").getComponent("GameManager").gameOverFunc(1)},a([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{}]},{},["BombManager","BulletManager","DeadZoneManager","EnemyManager","GameManager","Global","KeyTouchManager","PointManager","ShieldManager","UfoManager","UserManager"]);